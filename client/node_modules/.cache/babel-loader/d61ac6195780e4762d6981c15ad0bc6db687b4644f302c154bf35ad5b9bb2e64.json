{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{getUsers,createUser}from\"../api\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function LandingPage(){const[users,setUsers]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[name,setName]=useState(\"\");const[email,setEmail]=useState(\"\");useEffect(()=>{let mounted=true;getUsers().then(data=>{if(mounted)setUsers(data);}).catch(err=>{if(mounted)setError(err.message);}).finally(()=>{if(mounted)setLoading(false);});return()=>{mounted=false;};},[]);async function onAdd(e){e.preventDefault();try{const user=await createUser({name,email});setUsers(prev=>[user,...prev]);setName(\"\");setEmail(\"\");}catch(err){setError(err.message);}}return/*#__PURE__*/_jsxs(\"div\",{className:\"hero\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to Velision\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Professional solutions for your business\"}),/*#__PURE__*/_jsxs(\"section\",{style:{marginTop:24},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Users\"}),loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Loading users\\u2026\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:error}),!loading&&!error&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:onAdd,style:{marginBottom:12},children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Name\",value:name,onChange:e=>setName(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add\"})]}),/*#__PURE__*/_jsxs(\"ul\",{children:[users.length===0&&/*#__PURE__*/_jsx(\"li\",{children:\"No users\"}),users.map(u=>/*#__PURE__*/_jsxs(\"li\",{children:[u.name,\" \\u2014 \",u.email]},u._id||u.email))]})]})]})]});}export default LandingPage;","map":{"version":3,"names":["React","useEffect","useState","getUsers","createUser","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LandingPage","users","setUsers","loading","setLoading","error","setError","name","setName","email","setEmail","mounted","then","data","catch","err","message","finally","onAdd","e","preventDefault","user","prev","className","children","style","marginTop","color","onSubmit","marginBottom","placeholder","value","onChange","target","required","type","length","map","u","_id"],"sources":["/workspaces/velision-new/client/src/pages/LandingPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { getUsers, createUser } from \"../api\";\n\nfunction LandingPage() {\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n\n  useEffect(() => {\n    let mounted = true;\n    getUsers()\n      .then(data => { if (mounted) setUsers(data); })\n      .catch(err => { if (mounted) setError(err.message); })\n      .finally(() => { if (mounted) setLoading(false); });\n    return () => { mounted = false; };\n  }, []);\n\n  async function onAdd(e) {\n    e.preventDefault();\n    try {\n      const user = await createUser({ name, email });\n      setUsers(prev => [user, ...prev]);\n      setName(\"\");\n      setEmail(\"\");\n    } catch (err) {\n      setError(err.message);\n    }\n  }\n\n  return (\n    <div className=\"hero\">\n      <h1>Welcome to Velision</h1>\n      <p>Professional solutions for your business</p>\n\n      <section style={{ marginTop: 24 }}>\n        <h2>Users</h2>\n        {loading && <p>Loading users…</p>}\n        {error && <p style={{ color: \"red\" }}>{error}</p>}\n        {!loading && !error && (\n          <>\n            <form onSubmit={onAdd} style={{ marginBottom: 12 }}>\n              <input placeholder=\"Name\" value={name} onChange={e => setName(e.target.value)} required />\n              <input placeholder=\"Email\" value={email} onChange={e => setEmail(e.target.value)} required />\n              <button type=\"submit\">Add</button>\n            </form>\n            <ul>\n              {users.length === 0 && <li>No users</li>}\n              {users.map(u => (\n                <li key={u._id || u.email}>{u.name} — {u.email}</li>\n              ))}\n            </ul>\n          </>\n        )}\n      </section>\n    </div>\n  );\n}\n\nexport default LandingPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}